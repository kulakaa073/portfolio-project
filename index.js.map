{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import Accordion from 'accordion-js';\nimport Swiper from 'swiper';\nimport { Navigation, Keyboard } from 'swiper/modules';\nimport 'swiper/css';\nimport axios from 'axios';\nimport { comment } from 'postcss';\n\nconst burgerMenuButton = document.querySelector('.burger-menu');\nconst mobileMenu = document.querySelector('.mobile-menu-overlay');\nconst navMenuButton = document.querySelector('.nav-menu-button');\nconst navMenu = document.querySelector('.nav-list');\nconst navBlock = document.querySelector('.navigation');\nconst aboutInfoBlock = document.querySelector('.about-info');\nconst aboutSwiperBlock = document.querySelector('.about-swiper');\nconst projectsSwiperBlock = document.querySelector('.projects-swiper');\nconst faqBlock = document.querySelector('.faq-questions-list');\nconst reviewsSwiperBlock = document.querySelector('.reviews-swiper');\nconst reviewsBlock = document.querySelector('.reviews-list');\nconst contactForm = document.querySelector('.footer-form');\nconst submitPopUp = document.querySelector('.submit-pop-up');\n\nconst aboutAccordionOptions = {\n  elementClass: 'about-item',\n  triggerClass: 'about-info-expand-button',\n  panelClass: 'about-panel-wrap',\n};\n\nnew Accordion(aboutInfoBlock, { ...aboutAccordionOptions });\n\nconst faqAccordionOptions = {\n  elementClass: 'faq-question-card',\n  triggerClass: 'faq-expand-button',\n  panelClass: 'faq-answer',\n};\n\nnew Accordion(faqBlock, { ...faqAccordionOptions });\n\nconst aboutSwiperOptions = {\n  modules: [Navigation, Keyboard],\n  loop: true,\n  navigation: {\n    nextEl: '.about-swiper-button-next',\n  },\n  slidesPerView: 2,\n  wrapperClass: 'tech-stack',\n  slideClass: 'tech-name',\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n};\n\nnew Swiper(aboutSwiperBlock, { ...aboutSwiperOptions });\n\nconst projectSwiperOptions = {\n  modules: [Navigation, Keyboard],\n  navigation: {\n    nextEl: '.project-swiper-controlls-next',\n    prevEl: '.project-swiper-controlls-prev',\n  },\n  wrapperClass: 'projects-list',\n  slideClass: 'project-card',\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n  spaceBetween: 10,\n};\n\nnew Swiper(projectsSwiperBlock, { ...projectSwiperOptions });\n\naxios.defaults.baseURL = 'https://portfolio-js.b.goit.study/api/';\naxios\n  .get('reviews')\n  .then(function (response) {\n    renderReviewList(response.data);\n  })\n  .catch(function (err) {\n    console.log(err);\n    reviewsBlock.style.display = 'none';\n    document.querySelector('.reviews-fetch-error').style.display = 'block';\n    alert(err);\n  });\n\nfunction renderReviewList(renderData) {\n  const responseBlockMarkup = [];\n  renderData.forEach(item => {\n    responseBlockMarkup.push(\n      //cuz fuck you swiper\n      `<li class=\"review-card\">\n        <div class=\"review-card-wrap\"> \n          <img src=\"${item.avatar_url}\" alt=\"${item.author} photo\" class=\"review-img\"/>\n          <h3 class=\"reviewer-name\">${item.author}</h3>\n          <p class=\"review-text\">${item.review}</p>\n        </div>\n      </li>`\n    );\n  });\n  reviewsBlock.innerHTML = '';\n  reviewsBlock.insertAdjacentHTML('afterbegin', responseBlockMarkup.join(''));\n}\n\nconst reviewsSwiperOptions = {\n  modules: [Navigation, Keyboard],\n  navigation: {\n    nextEl: '.review-swiper-controlls-next',\n    prevEl: '.review-swiper-controlls-prev',\n  },\n  wrapperClass: 'reviews-list',\n  slideClass: 'review-card',\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n  spaceBetween: 10,\n};\n\nnew Swiper(reviewsSwiperBlock, { ...reviewsSwiperOptions });\n\nburgerMenuButton.addEventListener('click', e => {\n  mobileMenu.style.display = 'block';\n  lockScroll();\n});\n\nmobileMenu.addEventListener('click', e => {\n  if (e.target.nodeName === 'A' || e.target.nodeName === 'BUTTON') {\n    mobileMenu.style.display = 'none';\n    unlockScroll();\n  }\n});\n\nnavBlock.addEventListener('click', e => {\n  console.log(navMenu.classList.contains('visually-hidden'));\n  if (e.target === navMenuButton) {\n    if (navMenu.classList.contains('visually-hidden'))\n      navMenu.classList.remove('visually-hidden');\n    else navMenu.classList.add('visually-hidden');\n  } else if (!navMenu.classList.contains('visually-hidden'))\n    navMenu.classList.add('visually-hidden');\n});\n\n//#region scroll lock stuff\n// Function to lock scrolling\nfunction lockScroll() {\n  // Store the current scroll position\n  const scrollY = window.scrollY;\n\n  // Add styles to the body\n  document.body.style.position = 'fixed';\n  document.body.style.top = `-${scrollY}px`;\n  document.body.style.width = '100%';\n  document.body.style.overflowY = 'scroll';\n\n  // Store the scroll position as a data attribute\n  document.body.dataset.scrollY = scrollY;\n}\n\n// Function to unlock scrolling\nfunction unlockScroll() {\n  // Get the stored scroll position\n  const scrollY = document.body.dataset.scrollY;\n\n  // Remove the fixed positioning\n  document.body.style.position = '';\n  document.body.style.top = '';\n  document.body.style.width = '';\n  document.body.style.overflowY = '';\n\n  // Scroll back to the original position\n  window.scrollTo(0, parseInt(scrollY || '0'));\n}\n\n// Example usage\n/* document.getElementById('openOverlay').addEventListener('click', function() {\n  document.getElementById('overlay').style.display = 'block';\n  lockScroll();\n});\n\ndocument.getElementById('closeOverlay').addEventListener('click', function() {\n  document.getElementById('overlay').style.display = 'none';\n  unlockScroll();\n}); */\n//#endregion scroll lock stuff\n\nconst formData = { email: '', comment: '' };\nconst localStorageKey = 'feedback-form-state';\n\nif (localStorage.getItem(localStorageKey)) {\n  const savedFormData = JSON.parse(localStorage.getItem(localStorageKey));\n  formData.email = savedFormData.email;\n  formData.message = savedFormData.message;\n  contactForm.querySelector('input[name=\"email\"]').value = formData.email;\n  contactForm.querySelector('input[name=\"comment\"]').value = formData.comment;\n}\n\ncontactForm.addEventListener('input', event => {\n  if (event.target.name === 'email') {\n    formData.email = event.target.value;\n  }\n  if (event.target.name === 'comment') {\n    formData.comment = event.target.value;\n  }\n  localStorage.setItem(localStorageKey, JSON.stringify(formData));\n});\n\ncontactForm.addEventListener('submit', event => {\n  event.preventDefault();\n  if (formData.email === '' || formData.comment === '') {\n    alert('Fill please all fields');\n    return;\n  }\n  axios\n    .post('requests', formData)\n    .then(response => {\n      console.log('axios.response');\n      console.log(response);\n      showFormSuccess(response.data.title, response.data.message);\n    })\n    .catch(error => {\n      console.log(error);\n    });\n  localStorage.removeItem(localStorageKey);\n  formData.email = '';\n  formData.comment = '';\n  contactForm.reset();\n});\n\nfunction showFormSuccess(messageTitle, messageContent) {\n  submitPopUp.querySelector('.submit-pop-up-title').textContent = messageTitle;\n  submitPopUp.querySelector('.submit-pop-up-text').textContent = messageContent;\n  submitPopUp.style.display = 'block';\n  lockScroll();\n}\n"],"names":["burgerMenuButton","mobileMenu","navMenuButton","navMenu","navBlock","aboutInfoBlock","aboutSwiperBlock","projectsSwiperBlock","faqBlock","reviewsSwiperBlock","reviewsBlock","contactForm","submitPopUp","aboutAccordionOptions","Accordion","faqAccordionOptions","aboutSwiperOptions","Navigation","Keyboard","Swiper","projectSwiperOptions","axios","response","renderReviewList","err","renderData","responseBlockMarkup","item","reviewsSwiperOptions","lockScroll","unlockScroll","scrollY","formData","localStorageKey","savedFormData","event","showFormSuccess","error","messageTitle","messageContent"],"mappings":"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"}